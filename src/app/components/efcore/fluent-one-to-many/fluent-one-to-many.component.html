<div>
  <h1 style="font-size: 3rem;">Configure One-to-Many Relationships using Fluent API in Entity Framework Core</h1>
  <br>
  <p>You learn about the Conventions for the One-to-Many Relationship. Generally, you don't need to configure
    one-to-many relationships because EF Core includes enough conventions which will automatically configure them.
    However, you can use Fluent API to configure the one-to-many relationships if you decide to have all the EF
    configurations in Fluent API for easy maintenance.
  </p>
  <p>Entity Framework Core made it easy to configure relationships using Fluent API. Consider the following Student and
    Grade classes where the Grade entity includes many Student entities</p>
  <pre>
      {{text1}}
    </pre>
  <p>Configure the one-to-many relationships for the above entities using Fluent API by overriding the OnModelCrating
    method in the context class, as shown below</p>
  <pre>
      {{text2}}
    </pre>
  <p>In the example above, the following code snippet configures the one-to-many relationships</p>
  <pre>
    {{text3}}
  </pre>
  <p>Now, to reflect this in the database, execute migration commands, add-migration "name" and update-database. The
    database will include two tables with One-to-Many relationships as shown below</p>
  <p>Let's understand the above code step by step</p>
  <p>First, we need to start configuring with one entity class, either Student or Grade. So, modelBuilder.Entity
    Student>() start with the Student entity</p>
  <p>Then, .HasOne Grade>(s=>s.Grade) specifies that the Student entity includes a Grade type property named Grade.</p>
  <p>Now, we need to configure the other end the relationship, the Grade entity. The .WithMany(g => g.Students)
    specifies that the Grade entity class includes many Student entities. Here, WithMany infers collection navigation
    property.</p>
  <p>The .HasForeignKey int>(s=> s.CurrentGradeId) specifies the name of the foreign key property CurrentGradeId. This
    is optional. Use it only when you have the foreign key Id property in the dependent class</p>
  <br>

  <!-- Fluent API Configurations -->
  <span style="font-size: 2rem;" class="pb-0">Fluent API Configurations
  </span>
  <div class="border-b1"></div>
  <p>Override the OnModeCreating method and use a parameter modelBuilder of type ModelBuilder to configure domain
    classes, as shown below</p>


  <br>
  <p>In the above example, the ModelBuilder Fluent API instance is used to configure a property by calling multiple
    methods in chain. It configures the StudentId property of the Student entity; It configures the name using
    HasCloumnName, the default value using HasDefaultValue and nullability using IsRequired method in a single statement
    instead of multiple statements. This increases the readability and also takes less time to write compare to multiple
    statements, as shown below</p>
  <pre>
        {{text2}}
      </pre>

  <strong>Note:</strong>
  <p>Fluent API configurations have higher precedence than data annotation attributes</p>
</div>