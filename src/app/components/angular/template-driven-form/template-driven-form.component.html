<div>
  <h1 style="font-size: 3rem;">Template-driven Forms Trong Angular</h1>
  <br>
  <p>Form hay biểu mẫu là một thành phần khá quan trọng trong các hệ thống/công ty hiện nay. Ví dụ khi bạn mở một tài
    khoản ngân hàng, hay form đăng ký trường Đại học, hoặc kể cả là một số form các bạn cần phải điền khi đi làm ở một
    công ty mới chẳng hạn.</p>
  <br>

  <!-- Introduction -->
  <span style="font-size: 2rem;" class="pb-0">Introduction</span>
  <div class="border-b1"></div>
  <br>
  <p>Angular là một full-fledged framework, nó đã cung cấp sẵn hai giải pháp cho Forms là Template-driven Forms và
    Reactive Forms hay còn gọi làm Model-driven Forms.
  </p>
  <ul>
    <li>Template-driven Forms: Cơ chế hoạt động của dạng forms này sẽ chủ yếu dựa vào các directives trên template như
      NgForm, NgModel, required, etc; để làm việc. Form dạng này sử dụng Two-way binding để update data model giữa
      template và component.
    </li>
    <li>Reactive Forms: Chúng ta sẽ xây dựng form từ các model, là các object có một số chức năng đặc biệt để quản lý
      được các form input. Nó cũng sử dụng một số (nhưng rất ít) các directives.</li>
  </ul>
  <br>

  <!--Sign in form-->
  <span style="font-size: 2rem;" class="pb-0">Sign in form</span>
  <div class="border-b1"></div>
  <br>
  <p>Chúng ta sẽ cần một component (sign-in) mới và setup routing cho nó như sau:</p>
  <br>
  <pre>
    <code>{{text1}}</code>
</pre>
  <br>
  <pre>
      <code>{{text2}}</code>
  </pre>
  <p>Giờ đây bạn có thể navigate vào trang http://localhost:4200/sign-in và bắt đầu code được rồi.</p>
  <p>Giả sử page Sign in sẽ có một input cho việc nhập Username, một input cho Password, và một checkbox cho chức năng
    Remember me, kèm theo đó là một button để submit form chẳng hạn.</p>
  <p>Chúng ta có thể có template như sau:</p>
  <pre>
  <code>{{text3}}</code>
</pre>
  <p>forkJoin() khi dùng với children Observables là 1 Array, thì forkJoin() có thể nhận vào 1 tham số thứ 2 gọi là
    projectFunction. projectFunction này sẽ được gọi với các tham số là giá trị của children Observables và kết quả của
    projectFunction sẽ là kết quả emit của forkJoin(). projectFunction chỉ được thực thi nếu như forkJoin() SẼ emit
    (nghĩa là tất cả children Observables đều complete)</p>
  <p>Lưu ý, để có thể sử dụng các components/directives từ Angular Material các bạn cần import NgModule tương ứng vào
    NgModule quản lý component hiện tại. Ví dụ trong trường hợp này SignInComponent được quản lý bởi AppModule nên chúng
    ta có một số imports sau:</p>
  <pre>
    <code>{{text4}}</code>
</pre>
  <br>

  <!--Integrate Angular Forms-->
  <span style="font-size: 2rem;" class="pb-0">Integrate Angular Forms</span>
  <div class="border-b1"></div>
  <br>
  <p>Để có thể sử dụng các APIs mà Angular cung cấp cho việc thao tác với Template-driven Forms, chúng ta cần import
    NgModule là FormsModule từ package @angular/forms như sau vào AppModule:</p>
  <br>
  <pre>
    <code>{{text5}}</code>
</pre>
  <br>
  <strong>ngForm và ngModel directives</strong>
  <p>Để có thể lấy về NgForm instance, chúng ta chỉ cần tạo một template variable cho thẻ form kèm theo chỉ định về
    exportAs như sau:</p>
  <pre>
<code>{{text6}}</code>
</pre>
  <br>
  <p>Từ đây bạn có thể sử dụng variable signInForm này ở trong template, cũng như truyền về component class.</p>
  <p>Ví dụ, chúng ta truyền instance này vào hàm lắng nghe event submit của form chẳng hạn:</p>
  <pre>
    <code>{{text7}}</code>
</pre>
  <p>Ở thời điểm hiện tại chúng ta mặc dù đã khai báo một số input/control, nhưng form của chúng ta không thể xác nhận
    được những control đó, nên nếu bạn print thử value của form hiện tại sẽ là một object rỗng:</p>
  <br>
  <pre>
      <code>{{text8}}</code>
  </pre>
  <p>Lúc này bạn sẽ cần phải register các control vào form thông qua ngModel directive.
  </p>
  <pre>
                  <code>{{text9}}</code>
              </pre>
  <p>Ngay khi chúng ta save lại, bạn sẽ nhận được một thông báo lỗi runtime như sau ở console:</p>
  <pre>
                  <code>{{text10}}</code>
              </pre>
  <p>Một thông báo khá rõ ràng, chúng ta cần phải gắn thêm name attribute cho thẻ input hoặc sẽ thêm một config nữa.
    Trong trường hợp này, chúng ta mong muốn register control nên chúng ta sẽ thêm name attribute.</p>
  <pre>
                  <code>{{text11}}</code>
              </pre>
  <p>Thực hiện tương tự cho các control khác, chúng ta sẽ có một form hoàn chỉnh như sau:</p>
  <pre>
    <code>{{text12}}</code>
</pre>
  <br>

  <strong>Event Submit vs NgSubmit</strong>
  <p>Ở phần trước, chúng ta đã listen event submit của form, nhưng ngoài ra, còn một event khác cũng được fired ra khi
    thực hiện submit form, đó là ngSubmit. Vậy có điều gì khác biệt giữa submit và ngSubmit?</p>
  <p>Giống như submit, event ngSubmit cũng thực hiện hành động khi form thực hiện submit – người dùng nhấn vào button
    submit chẳng hạn. Nhưng ngSubmit sẽ thêm một số nhiệm vụ để đảm bảo form của bạn không thực hiện submit form theo
    cách thông thường – tải lại trang sau khi submit.</p>
  <p>Giả sử, chúng ta thực hiện một tác vụ nào đó trong hàm listen form submit mà sinh ra exception, lúc này nếu bạn sử
    dụng submit, trang web của bạn sẽ reload, còn nếu bạn sử dụng ngSubmit, nó sẽ không reload – phiên bản lúc này tôi
    đang sử dụng.</p>
  <pre>
      <code>{{text13}}</code>
  </pre>
  <p>Lời khuyên dành cho bạn là nên dùng ngSubmit cho việc listen form submit.</p>
  <p>Lưu ý rằng ngSubmit có thể áp dụng cho cả Reactive Forms</p>
  <br>

  <!--ngModel, [ngModel] and [(ngModel)]-->
  <span style="font-size: 2rem;" class="pb-0">ngModel, [ngModel] and [(ngModel)]</span>
  <div class="border-b1"></div>
  <br>
  <p>Như chúng ta đã biết, ngModel là directive giúp chúng ta register control với form, vậy hai hình thái còn lại có
    tác dụng gì?</p>
  <ul>
    <li>[ngModel]: là property binding, tức là chúng ta có thể binding một value hoặc một property cho nó.</li>
    <li>[(ngModel)]: là two-way data binding, lúc này nó sẽ kết hợp propety binding và event binding để đồng bộ dữ liệu
      giữa template và model với nhau.</li>
  </ul>
  <p>Ví dụ, chúng ta có thể có một object (model) với những data có sẵn để binding ra form (form edit chẳng hạn):</p>
  <br>
  <pre>
        <code>{{text14}}</code>
      </pre>
  <br>
  <pre>
        <code>{{text15}}</code>
      </pre>
  <p>Khi render, những gì có trong model sẽ được binding vào control, nhưng control thay đổi giá trị thì không thay đổi
    ngược lại model, vì chúng ta mới chỉ binding một chiều:</p>
  <p>Nếu chúng ta thay đổi thành two-way binding, thì những gì có ở form sẽ được update tương ứng lại model và ngược
    lại:</p>
  <br>
  <pre>
          <code>{{text16}}</code>
        </pre>
  <br>
</div>